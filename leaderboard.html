<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Leaderboard â€” WIN CLUB</title>
<link rel="stylesheet" href="style.css">

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
  import { getFirestore, collection, getDocs, query, orderBy, limit } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyCpVhsD2feq5x5KqDJZVv8DskLVdifvjng",
    authDomain: "win-club-quiz.firebaseapp.com",
    projectId: "win-club-quiz",
    storageBucket: "win-club-quiz.firebasestorage.app",
    messagingSenderId: "810956968688",
    appId: "1:810956968688:web:2a87ff7b745115e125a835",
    measurementId: "G-GXV4P7B3XY"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  async function loadLeaderboard() {
    const container = document.getElementById("board");
    container.innerHTML = "";
    try {
      const q = query(collection(db, "round1_scores"), orderBy("score","desc"), limit(10));
      const snap = await getDocs(q);
      snap.forEach(doc => {
        const data = doc.data();
        const div = document.createElement("div");
        div.textContent = `${data.name} â€” ${data.score}/${data.total}`;
        container.appendChild(div);
      });
    } catch(e) { console.error(e); container.textContent="Could not load leaderboard"; }
  }

  window.addEventListener("DOMContentLoaded", loadLeaderboard);
</script>
</head>
<body>

<header class="topbar">
  <div class="brand">ğŸ† WIN CLUB â€” Leaderboard</div>
</header>

<main class="wrap">
  <section class="card">
    <h1>Top Scores</h1>
    <div id="board"></div>
    <button onclick="location.href='index.html'" style="margin-top:15px;">ğŸ  Back to Home</button>
  </section>
</main>

<footer class="foot">Good luck to all participants!</footer>
</body>
</html>
